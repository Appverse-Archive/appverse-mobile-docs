<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js">

/*
 * WEBTREKK INTERFACES
 */

<span id='Appverse-Webtrekk-method-constructor'><span id='Appverse-Webtrekk'>/**
</span></span> * @class Appverse.Webtrekk
 * Module class to access Appverse Webtrekk module interface. 
 * &lt;br&gt;This interface provides features to track application usage and send to Webtrekk.&lt;br&gt;
 * &lt;br&gt; @version 5.0.3
 * &lt;pre&gt;Usage: Appverse.Webtrekk.&amp;lt;metodName&amp;gt;([params]).&lt;br&gt;Example: Appverse.Webtrekk.TrackContent('/mycontent').&lt;/pre&gt;
 * @component
 * @aside guide appverse_modules
 * @constructor Constructs a new Webtrekk interface.
 * @return {Appverse.Webtrekk} A new Webtrekk interface.
 */
Webtrekk = function() {
<span id='Appverse-Webtrekk-cfg-serviceName'>    /**
</span>     * @cfg {String}
     * Webtrekk service name (as configured on Platform Service Locator).
     * &lt;br&gt; @version 5.0.3
     */
    this.serviceName = &quot;webtrekk&quot;;

<span id='Appverse-Webtrekk-property-COUNTRY_CODE'>    /**
</span>     * Country code of the client's language settings (e.g 'de').
     * &lt;br&gt; @version 5.0.3
     * @type string
     */
    this.COUNTRY_CODE = &quot;la&quot;;

<span id='Appverse-Webtrekk-property-ORDER_VALUE'>    /**
</span>     * Order value.
     * &lt;br&gt; @version 5.0.3
     * @type string
     */
    this.ORDER_VALUE = &quot;ov&quot;;

<span id='Appverse-Webtrekk-property-ORDER_ID'>    /**
</span>     * Order ID.
     * &lt;br&gt; @version 5.0.3
     * @type string
     */
    this.ORDER_ID = &quot;oi&quot;;

<span id='Appverse-Webtrekk-property-SHOPPING_BASKET'>    /**
</span>     * Products in shopping basket.
     * &lt;br&gt; @version 5.0.3
     * @type string
     */
    this.SHOPPING_BASKET = &quot;ba&quot;;

<span id='Appverse-Webtrekk-property-PRODUCTS_COSTS'>    /**
</span>     * Product costs.
     * &lt;br&gt; @version 5.0.3
     * @type string
     */
    this.PRODUCTS_COSTS = &quot;co&quot;;

<span id='Appverse-Webtrekk-property-NUMBER_OF_PRODUCTS'>    /**
</span>     * Number of products.
     * &lt;br&gt; @version 5.0.3
     * @type string
     */
    this.NUMBER_OF_PRODUCTS = &quot;qn&quot;;

<span id='Appverse-Webtrekk-property-PRODUCT_CATEGORY_1'>    /**
</span>     * Product category. Value is 'ca1' but you can add more categories by using 'ca2', 'ca3', etc...
     * &lt;br&gt; @version 5.0.3
     * @type string
     */
    this.PRODUCT_CATEGORY_1 = &quot;ca1&quot;;

<span id='Appverse-Webtrekk-property-STATUS_SHOPPING_BASKET'>    /**
</span>     * Status of the shopping basket (add|conf|view).
     * &lt;br&gt; @version 5.0.3
     * @type string
     */
    this.STATUS_SHOPPING_BASKET = &quot;st&quot;;

<span id='Appverse-Webtrekk-property-CUSTOMER_ID'>    /**
</span>     * Customer ID
     * &lt;br&gt; @version 5.0.3
     * @type string
     */
    this.CUSTOMER_ID = &quot;cd&quot;;

<span id='Appverse-Webtrekk-property-SEARCH_TERM'>    /**
</span>     * Search term of internal search function.
     * &lt;br&gt; @version 5.0.3
     * @type string
     */
    this.SEARCH_TERM = &quot;is&quot;;

<span id='Appverse-Webtrekk-property-CAMPAIGN_ID'>    /**
</span>     * Campaign ID consistinf od media code parameter and value ('wt_mc=newsletter')
     * &lt;br&gt; @version 5.0.3
     * @type string
     */
    this.CAMPAIGN_ID = &quot;mc&quot;;

<span id='Appverse-Webtrekk-property-CONTENT_GROUP'>    /**
</span>     * Content Group. Value is 'cg1' but you can add more categories by using 'cg2', 'cg3', etc...
     * &lt;br&gt; @version 5.0.3
     * @type string
     */
    this.CONTENT_GROUP = &quot;cg1&quot;;

<span id='Appverse-Webtrekk-property-PAGE_PARAMETER'>    /**
</span>     * Page parameter. Value is 'cp1' but you can add more categories by using 'cp2', 'cp3', etc...
     * &lt;br&gt; @version 5.0.3
     * @type string
     */
    this.PAGE_PARAMETER = &quot;cp1&quot;;

<span id='Appverse-Webtrekk-property-SESSION_PARAMETER'>    /**
</span>     * Session parameter. Value is 'cs1' but you can add more categories by using 'cs2', 'cs3', etc...
     * &lt;br&gt; @version 5.0.3
     * @type string
     */
    this.SESSION_PARAMETER = &quot;cs1&quot;;

<span id='Appverse-Webtrekk-property-ACTION_PARAMETER'>    /**
</span>     * Action parameter. Value is 'ck1' but you can add more categories by using 'ck2', 'ck3', etc...
     * &lt;br&gt; @version 5.0.3
     * @type string
     */
    this.ACTION_PARAMETER = &quot;ck1&quot;;

<span id='Appverse-Webtrekk-property-INDEPENDENT_PARAMETER'>    /**
</span>     * Independent parameter. Value is 'ce1' but you can add more categories by using 'ce2', 'ce3', etc...
     * &lt;br&gt; @version 5.0.3
     * @type string
     */
    this.INDEPENDENT_PARAMETER = &quot;ce1&quot;;

<span id='Appverse-Webtrekk-property-CAMPAIGN_PARAMETER'>    /**
</span>     * Campaign parameter. Value is 'cc1' but you can add more categories by using 'cc2', 'cc3', etc...
     * &lt;br&gt; @version 5.0.3
     * @type string
     */
    this.CAMPAIGN_PARAMETER = &quot;cc1&quot;;

<span id='Appverse-Webtrekk-property-ECOMMERCE_PARAMETER'>    /**
</span>     * E-commerce parameter. Value is 'cb1' but you can add more categories by using 'cb2', 'cb3', etc...
     * &lt;br&gt; @version 5.0.3
     * @type string
     */
    this.ECOMMERCE_PARAMETER = &quot;cb1&quot;;
};

Appverse.Webtrekk = new Webtrekk();

<span id='Appverse-Webtrekk-method-StartTracking'>/**
</span> * Starts the tracker - for the given web server URL and Track Id - from receiving and dispatching data to the server.
 * &lt;br&gt; @version 5.0
 * &lt;br&gt; It returns a {Boolean} with a value of true if the tracker was started successfully
 * &lt;pre&gt;
 * Usage samples: 
 * Appverse.Webtrekk.StartTracking(&quot;http://q3.webtrekk.net&quot;,&quot;111111111111&quot;);
 * or
 * Appverse.Webtrekk.StartTracking(&quot;http://q3.webtrekk.net&quot;,&quot;111111111111&quot;, &quot;10&quot;);  // not recommended
 * &lt;/pre&gt;
 * @param {String} webServerURL The web server URL with the format http://ap.Appverse.cat
 * @param {String} trackId The track Id with the format 123456789012345
 * @param {String} samplingRate [optional] The sampling rate in consultation with Webtrekk. 
 * The sampling supresses requests to Webtrekk depending on the specified value - that is,
 * only every nth user is tracked.
 * @param {String} callbackFunctionName The name of the callback function to be called when the method response is handled. Arguments of this function are the invocation result object and the invocation callbackId. Defaults to &quot;callback&quot;.
 * @param {String} callbackId The id to uniquely identify different callbacks with the same callback function. Defaults to &quot;callbackid&quot;.
 * @method
 * &lt;pre&gt; Available in: &lt;br&gt; iOS &lt;img src=&quot;resources/images/check.png&quot;/&gt; | android &lt;img src=&quot;resources/images/check.png&quot;/&gt; | windows &lt;img src=&quot;resources/images/error.png&quot;/&gt; | emulator &lt;img src=&quot;resources/images/error.png&quot;/&gt; &lt;/pre&gt;
 */
Webtrekk.prototype.StartTracking = function(webServerUrl, trackId, samplingRate, callbackFunctionName, callbackId) {
	if(samplingRate!=null)
    	post_to_url_async(Appverse.Webtrekk.serviceName, &quot;StartTracking&quot;, get_params([webServerUrl, trackId, samplingRate]), callbackFunctionName, callbackId);
	else
		post_to_url_async(Appverse.Webtrekk.serviceName, &quot;StartTracking&quot;, get_params([webServerUrl, trackId]), callbackFunctionName, callbackId);
};

<span id='Appverse-Webtrekk-method-StopTracking'>/**
</span> * Stops the tracker from receiving and dispatching data to the server
 * &lt;br&gt; @version 5.0
 * &lt;br&gt; It returns a {Boolean} with a value of true if tracker was stopped
 * @param {String} callbackFunctionName The name of the callback function to be called when the method response is handled. Arguments of this function are the invocation result object and the invocation callbackId. Defaults to &quot;callback&quot;.
 * @param {String} callbackId The id to uniquely identify different callbacks with the same callback function. Defaults to &quot;callbackid&quot;.
 * @method
 * &lt;pre&gt; Available in: &lt;br&gt; iOS &lt;img src=&quot;resources/images/check.png&quot;/&gt; | android &lt;img src=&quot;resources/images/check.png&quot;/&gt; | windows &lt;img src=&quot;resources/images/error.png&quot;/&gt; | emulator &lt;img src=&quot;resources/images/error.png&quot;/&gt; &lt;/pre&gt;
 */
Webtrekk.prototype.StopTracking = function(callbackFunctionName, callbackId) {
    post_to_url_async(Appverse.Webtrekk.serviceName, &quot;StopTracking&quot;, null, callbackFunctionName, callbackId);
};

<span id='Appverse-Webtrekk-method-TrackClick'>/**
</span> * Sends a button click event to be tracked by the webtrekk tracker
 * &lt;br&gt; You should invoke the {@link Appverse.Webtrekk#StartTracking StartTracking} method prior to invoke this method.
 * &lt;br&gt; @version 5.0
 * &lt;br&gt; It returns a {Boolean} with a value of true if the content/event was successfully tracked
 * &lt;pre&gt;
 * Action tracking measures clicks on internal or external links and buttons.
 * In mobile environments, the page name should be provided (unlike in websites).
 *
 * You could add further parameters to each request.
 * For further information see, {@link Appverse.Webtrekk.WebtrekkParametersCollection WebtrekkParametersCollection}.
 * 
 * Usage samples: 
 * Appverse.Webtrekk.TrackClick(&quot;myButton&quot;,&quot;home page&quot;);
 * or
 * Appverse.Webtrekk.TrackClick(&quot;myButton&quot;,&quot;home page&quot;,[{&quot;Name&quot;:&quot;la&quot;, &quot;Value&quot;: &quot;es&quot;}, {&quot;Name&quot;:&quot;cd&quot;, &quot;Value&quot;: &quot;4515661&quot;}]);
 *
 * For checking the possible names of the additional parameters, see the properties in the Appverse.Webtrekk object
 * such as the {@link Appverse.Webtrekk#COUNTRY_CODE COUNTRY_CODE} parameter.
 *&lt;/pre&gt;
 * @param {String} clickId The button identification
 * @param {String} contentId The content identification (page name).
 * @param {Appverse.Webtrekk.WebtrekkParametersCollection} additionalParameters [optional] Array containing additional parameters
 * @param {String} callbackFunctionName The name of the callback function to be called when the method response is handled. Arguments of this function are the invocation result object and the invocation callbackId. Defaults to &quot;callback&quot;.
 * @param {String} callbackId The id to uniquely identify different callbacks with the same callback function. Defaults to &quot;callbackid&quot;.
 * @method
 * &lt;pre&gt; Available in: &lt;br&gt; iOS &lt;img src=&quot;resources/images/check.png&quot;/&gt; | android &lt;img src=&quot;resources/images/check.png&quot;/&gt; | windows &lt;img src=&quot;resources/images/error.png&quot;/&gt; | emulator &lt;img src=&quot;resources/images/error.png&quot;/&gt; &lt;/pre&gt;
 */
Webtrekk.prototype.TrackClick = function(clickId, contentId, additionalParameters, callbackFunctionName, callbackId) {
    post_to_url_async(Appverse.Webtrekk.serviceName, &quot;TrackClick&quot;, get_params([clickId, contentId, additionalParameters]), callbackFunctionName, callbackId);
};

<span id='Appverse-Webtrekk-method-TrackContent'>/**
</span> * Sends a content/event to be tracked by the webtrekk tracker
 * &lt;br&gt; You should invoke the {@link Appverse.Webtrekk#StartTracking StartTracking} method prior to invoke this method.
 * &lt;br&gt; @version 5.0
 * &lt;br&gt; It returns a {Boolean} with a value of true if the content/event was successfully tracked
 * &lt;pre&gt;
 * Content tracking allows you to transmit particular app contents, such as pages or e-commerce values.
 * The contents are evaluated as page impressions and displayed in the page analysis on the Webtrekk user
 * interface.
 * 
 * A part from the content, you could also transmit additional parameters when tracking content.
 * For further information see, {@link Appverse.Analytics.AdditionalParameter AdditionalParameter}.
 * 
 * Usage samples: 
 * Appverse.Webtrekk.TrackContent(&quot;home page&quot;);
 * or
 * Appverse.Webtrekk.TrackContent(&quot;home page&quot;,[{&quot;Name&quot;:&quot;la&quot;, &quot;Value&quot;: &quot;es&quot;}, {&quot;Name&quot;:&quot;cd&quot;, &quot;Value&quot;: &quot;4515661&quot;}]);
 *
 * For checking the possible names of the additional parameters, see the properties in the Appverse.Webtrekk object
 * such as the {@link Appverse.Webtrekk#COUNTRY_CODE COUNTRY_CODE} parameter.
 *&lt;/pre&gt;
 * @param {String} contentId The content identification
 * @param {Appverse.Webtrekk.WebtrekkParametersCollection} additionalParameters [optional] Array containing additional parameters
 * @param {String} callbackFunctionName The name of the callback function to be called when the method response is handled. Arguments of this function are the invocation result object and the invocation callbackId. Defaults to &quot;callback&quot;.
 * @param {String} callbackId The id to uniquely identify different callbacks with the same callback function. Defaults to &quot;callbackid&quot;.
 * @method
 * &lt;pre&gt; Available in: &lt;br&gt; iOS &lt;img src=&quot;resources/images/check.png&quot;/&gt; | android &lt;img src=&quot;resources/images/check.png&quot;/&gt; | windows &lt;img src=&quot;resources/images/error.png&quot;/&gt; | emulator &lt;img src=&quot;resources/images/error.png&quot;/&gt; &lt;/pre&gt;
 */
Webtrekk.prototype.TrackContent = function(contentId, additionalParameters, callbackFunctionName, callbackId) {
    post_to_url_async(Appverse.Webtrekk.serviceName, &quot;TrackContent&quot;, get_params([contentId, additionalParameters]), callbackFunctionName, callbackId);
};

<span id='Appverse-Webtrekk-method-SetRequestInterval'>/**
</span> * Sets the time interval the request will use to transmit data to the server
 * &lt;br&gt; This method should be executed prior to start the session tracking using the {@link Appverse.Webtrekk#StartTracking StartTracking} method.
 * &lt;br&gt; @version 5.0
 * &lt;br&gt; It returns a {Boolean} with a value of true if the interval was successfully set
 * &lt;pre&gt;
 * Default value is 5 minutes (300 seconds).
 * To maximise battery life, the time interval can be increased to, for example, 10 minutes (600 seconds).
 * &lt;/pre&gt;
 * @param {double} intervalInSeconds The interval in seconds the request will transmit data to the server
 * @param {String} callbackFunctionName The name of the callback function to be called when the method response is handled. Arguments of this function are the invocation result object and the invocation callbackId. Defaults to &quot;callback&quot;.
 * @param {String} callbackId The id to uniquely identify different callbacks with the same callback function. Defaults to &quot;callbackid&quot;.
 * @method
 * &lt;pre&gt; Available in: &lt;br&gt; iOS &lt;img src=&quot;resources/images/check.png&quot;/&gt; | android &lt;img src=&quot;resources/images/check.png&quot;/&gt; | windows &lt;img src=&quot;resources/images/error.png&quot;/&gt; | emulator &lt;img src=&quot;resources/images/error.png&quot;/&gt; &lt;/pre&gt;
 */
Webtrekk.prototype.SetRequestInterval = function(intervalInSeconds, callbackFunctionName, callbackId) {
    post_to_url_async(Appverse.Webtrekk.serviceName, &quot;SetRequestInterval&quot;, get_params([intervalInSeconds]), callbackFunctionName, callbackId);
};
</pre>
</body>
</html>
